<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floristería Las Acacias</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <button class="cart-button">🛒</button>
        <div class="logo">
            <img src="imagenes/logo.jpg" alt="Logo de Floristería Las Acacias">
        </div>
        <div class="search-box">
            <input type="text" placeholder="Buscar">
            <button class="search-button">&#128269;</button>
        </div>
    </header>

    <!-- Navegación -->
    <nav class="navbar">
        <ul>
            <li><a href="#inicio">Inicio</a></li>
            <li><a href="productos.html">Productos</a></li>
            <li><a href="quienes-somos.html">Quienes Somos</a></li>
            <li><a href="preguntas-frecuentes.html">Preguntas Frecuentes</a></li>
        </ul>
    </nav>

    <!-- Título "Productos destacados" -->
    <h1 class="featured-title">Productos destacados</h1>

    <!-- Carrusel de Imágenes -->
    <section id="inicio" class="carousel">
        <div class="carousel-inner">
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/ramo-1.jpeg" alt="Flor 1">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/manojo-2.jpeg" alt="Flor 2">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/ramo-4.jpg" alt="Flor 3">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/manojo-5.jpeg" alt="Flor 4">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/ramo-6.jpg" alt="Flor 5">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/manojo-3.jpeg" alt="Flor 6">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/ramo-6.jpg" alt="Flor 7">
            </div>
            <!-- Nuevas flores -->
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/manojo-5.jpeg" alt="Flor 8">
            </div>
            <div class="carousel-item flor-clickeable">
                <img src="imagenes/manojo-2.jpeg" alt="Flor 9">
            </div>
        </div>
        <button class="carousel-control prev">&#10094;</button>
        <button class="carousel-control next">&#10095;</button>
    </section>

    <!-- Título "Productos de temporada" -->
    <h1 class="seasonal-title">Productos de temporada</h1>

    <!-- Cuadrícula de Productos de Temporada -->
    <section class="seasonal-grid">
        <div class="seasonal-item flor-clickeable">
            <img src="imagenes/ramo-1.jpeg" alt="Flor de temporada 1">
        </div>
        <div class="seasonal-item flor-clickeable">
            <img src="imagenes/ramo-2.png" alt="Flor de temporada 2">
        </div>
        <div class="seasonal-item flor-clickeable">
            <img src="imagenes/ramo-3.jpg" alt="Flor de temporada 3">
        </div>
        <div class="seasonal-item flor-clickeable">
            <img src="imagenes/ramo-4.jpg" alt="Flor de temporada 4">
        </div>
    </section>

    <!-- Ventana modal -->
    <div id="modal" class="modal">
        <div class="modal-contenido">
            <span class="cerrar-modal">&times;</span>
            <h2 id="modal-titulo">Nombre de la Flor</h2>
            <img id="modal-imagen" src="" alt="Flor" class="modal-imagen">
            <p id="modal-descripcion">Descripción de la flor.</p>
            <p id="modal-precio">Precio: $XX.XXX</p>
            <div class="cantidad-agregar">
                <label for="cantidad">Cantidad:</label>
                <input type="number" id="cantidad" min="1" value="1">
                <button id="agregar-carrito">Agregar al carrito</button>
            </div>
            <div class="mensaje">
                <label for="mensaje-flor">Mensaje para la flor:</label>
                <textarea id="mensaje-flor" rows="4" placeholder="Escribe tu mensaje aquí..."></textarea>
            </div>
            <div class="accesorios">
                <label>Accesorios:</label>
                <select id="accesorios">
                    <option value="ninguno">Ninguno</option>
                    <option value="oso">Oso de peluche (+$10.000)</option>
                    <option value="globo">Globo temático (+$5.000)</option>
                    <option value="chocolate">Chocolate (+$7.000)</option>
                    <option value="corona">Corona (+$8.000)</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Aviso de Cookies -->
    <div id="cookie-notice" class="cookie-notice">
        <p>Este sitio web utiliza cookies para mejorar tu experiencia.</p>
        <button id="accept-cookies" class="cookie-button">Aceptar</button>
    </div>

        <!-- Carrito de compras -->
    <div id="carrito-modal" class="carrito-modal">
        <div class="carrito-header">
            <h2>Tu Carrito</h2>
            <span class="cerrar-carrito">&times;</span>
        </div>
        <div id="carrito-items"></div>
        <div class="carrito-total">Total: $<span id="carrito-total">0</span></div>
        <button class="vaciar-carrito" id="vaciar-carrito">Vaciar Carrito</button>
    </div>

    <div class="confirmacion-agregado" id="confirmacion-agregado">
        Producto añadido al carrito!
    </div>

    <!-- Script Interno -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Carrusel
            const carouselInner = document.querySelector('.carousel-inner');
            const prevButton = document.querySelector('.carousel-control.prev');
            const nextButton = document.querySelector('.carousel-control.next');
            let currentIndex = 0;

            function moveCarousel(direction) {
                const items = document.querySelectorAll('.carousel-item');
                if (direction === 'next') {
                    currentIndex = (currentIndex + 1) % items.length;
                } else {
                    currentIndex = (currentIndex - 1 + items.length) % items.length;
                }
                const offset = -currentIndex * 100;
                carouselInner.style.transform = `translateX(${offset}%)`;
            }
            prevButton.addEventListener('click', () => moveCarousel('prev'));
            nextButton.addEventListener('click', () => moveCarousel('next'));

            // Aviso de Cookies
            const cookieNotice = document.getElementById('cookie-notice');
            const acceptCookiesButton = document.getElementById('accept-cookies');
            acceptCookiesButton.addEventListener('click', () => {
                cookieNotice.style.display = 'none';
                localStorage.setItem('cookiesAccepted', 'true');
            });
            if (localStorage.getItem('cookiesAccepted') === 'true') {
                cookieNotice.style.display = 'none';
            }

            // Datos de las flores
            const datosFlores = [
                {
                    nombre: "Productos destacados 1",
                    imagen: "imagenes/ramo-1.jpeg",
                    descripcion: "Un hermoso ramo de flores variadas, perfecto para cualquier ocasión.",
                    precio: "$25.000"
                },
                {
                    nombre: "Productos destacados 2",
                    imagen: "imagenes/manojo-2.jpeg",
                    descripcion: "Manojo de rosas blancas y rojas, ideal para expresar amor y pureza.",
                    precio: "$18.000"
                },
                {
                    nombre: "Productos destacados 3",
                    imagen: "imagenes/ramo-4.jpg",
                    descripcion: "Ramo de liliums y rosas, elegante y sofisticado.",
                    precio: "$26.000"
                },
                {
                    nombre: "Productos destacados 4",
                    imagen: "imagenes/manojo-5.jpeg",
                    descripcion: "Manojo de margaritas, fresco y juvenil.",
                    precio: "$21.000"
                },
                {
                    nombre: "Productos destacados 5",
                    imagen: "imagenes/ramo-6.jpg",
                    descripcion: "Ramo de flores silvestres, natural y encantador.",
                    precio: "$23.000"
                },
                {
                    nombre: "Productos destacados 6",
                    imagen: "imagenes/manojo-3.jpeg",
                    descripcion: "Manojo de claveles, clásico y duradero.",
                    precio: "$17.000"
                },
                {
                    nombre: "Productos destacados 7",
                    imagen: "imagenes/ramo-6.jpg",
                    descripcion: "Ramo de flores variadas, perfecto para cualquier ocasión.",
                    precio: "$24.000"
                },
                {
                    nombre: "Productos destacados 8",
                    imagen: "imagenes/manojo-5.jpeg",
                    descripcion: "Manojo de margaritas, fresco y juvenil.",
                    precio: "$21.000"
                },
                {
                    nombre: "Productos destacados 9",
                    imagen: "imagenes/manojo-2.jpeg",
                    descripcion: "Manojo de rosas blancas y rojas, ideal para expresar amor y pureza.",
                    precio: "$18.000"
                },
                // Productos de temporada
                {
                    nombre: "Flor de temporada 1",
                    imagen: "imagenes/ramo-1.jpeg",
                    descripcion: "Un hermoso ramo de flores de temporada, ideal para ocasiones especiales.",
                    precio: "$20.000"
                },
                {
                    nombre: "Flor de temporada 2",
                    imagen: "imagenes/ramo-2.png",
                    descripcion: "Ramo de tulipanes, perfecto para alegrar cualquier espacio.",
                    precio: "$22.000"
                },
                {
                    nombre: "Flor de temporada 3",
                    imagen: "imagenes/ramo-3.jpg",
                    descripcion: "Ramo de liliums, elegante y sofisticado.",
                    precio: "$24.000"
                },
                {
                    nombre: "Flor de temporada 4",
                    imagen: "imagenes/ramo-4.jpg",
                    descripcion: "Ramo de girasoles y margaritas, lleno de energía y frescura.",
                    precio: "$21.000"
                }
            ];

            // Modal de Flores
            const flores = document.querySelectorAll('.flor-clickeable');
            const modal = document.getElementById('modal');
            const modalTitulo = document.getElementById('modal-titulo');
            const modalImagen = document.getElementById('modal-imagen');
            const modalDescripcion = document.getElementById('modal-descripcion');
            const modalPrecio = document.getElementById('modal-precio');
            const cerrarModal = document.querySelector('.cerrar-modal');

            flores.forEach((flor, index) => {
                flor.addEventListener('click', () => {
                    const florData = datosFlores[index];
                    modalTitulo.textContent = florData.nombre;
                    modalImagen.src = florData.imagen;
                    modalDescripcion.textContent = florData.descripcion;
                    modalPrecio.textContent = `Precio: ${florData.precio}`;
                    modal.style.display = 'flex';
                });
            });

            cerrarModal.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });


            // Variables globales
        let currentFlowerIndex = 0;
        let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
        const cartButton = document.querySelector('.cart-button');
        const carritoModal = document.getElementById('carrito-modal');
        const cerrarCarrito = document.querySelector('.cerrar-carrito');
        const vaciarCarritoBtn = document.getElementById('vaciar-carrito');

        // Función para actualizar el carrito
        function actualizarCarrito() {
            const carritoItems = document.getElementById('carrito-items');
            const carritoTotal = document.getElementById('carrito-total');
            let total = 0;

            carritoItems.innerHTML = '';

            carrito.forEach((item, index) => {
                const precio = parseInt(item.precio.replace(/\D/g, '')) || 0;
                const accesorioPrecio = item.accesorio === 'ninguno' ? 0 :
                    item.accesorio === 'oso' ? 10000 :
                    item.accesorio === 'globo' ? 5000 :
                    item.accesorio === 'chocolate' ? 7000 : 8000;

                const subtotal = (precio + accesorioPrecio) * item.cantidad;
                total += subtotal;

                carritoItems.innerHTML += `
                    <div class="carrito-item">
                        <img src="${item.imagen}" alt="${item.nombre}">
                        <div>
                            <h3>${item.nombre}</h3>
                            <p>Cantidad: ${item.cantidad}</p>
                            ${item.mensaje ? `<p>Mensaje: ${item.mensaje}</p>` : ''}
                            ${item.accesorio !== 'ninguno' ? `<p>Accesorio: ${item.accesorio}</p>` : ''}
                            <p>Subtotal: $${subtotal.toLocaleString()}</p>
                            <button class="eliminar-item" data-index="${index}">Eliminar</button>
                        </div>
                    </div>
                `;
            });

            carritoTotal.textContent = total.toLocaleString();
            localStorage.setItem('carrito', JSON.stringify(carrito));
            cartButton.setAttribute('data-count', carrito.length);
            cartButton.style.backgroundColor = carrito.length > 0 ? '#8cbaa3' : '#a8d5ba';
        }

        // Event listeners del carrito
        cartButton.addEventListener('click', () => {
            carritoModal.style.display = 'block';
            actualizarCarrito();
        });

        cerrarCarrito.addEventListener('click', () => {
            carritoModal.style.display = 'none';
        });

        // Eliminar item individual
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('eliminar-item')) {
                const index = e.target.dataset.index;
                carrito.splice(index, 1);
                actualizarCarrito();
            }
        });

        // Vaciar carrito
        vaciarCarritoBtn.addEventListener('click', () => {
            carrito = [];
            actualizarCarrito();
        });

        // Agregar al carrito
        document.getElementById('agregar-carrito').addEventListener('click', () => {
            const cantidad = parseInt(document.getElementById('cantidad').value);
            const mensaje = document.getElementById('mensaje-flor').value;
            const accesorio = document.getElementById('accesorios').value;

            const nuevoItem = {
                ...datosFlores[currentFlowerIndex],
                cantidad: cantidad,
                mensaje: mensaje,
                accesorio: accesorio
            };

            carrito.push(nuevoItem);

            const confirmacion = document.getElementById('confirmacion-agregado');
            confirmacion.style.display = 'block';
            setTimeout(() => confirmacion.style.display = 'none', 2000);

            actualizarCarrito();
            modal.style.display = 'none';
        });
        });
    </script>
</body>
</html>